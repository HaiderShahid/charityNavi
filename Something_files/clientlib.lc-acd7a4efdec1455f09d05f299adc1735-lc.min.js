window.onload = () => {

    const subscribeForm = document.querySelector('#EmailSignUpForm')

    const firstNameInput = document.getElementById('FirstName')
    const lastNameInput = document.getElementById('LastName')
    const emailInput = document.getElementById('EmailAddress')
    const submitInput = document.getElementById('btnSubmit')

    firstNameInput.addEventListener('keyup', () => {
        evalInputKeyUp(firstNameInput, 40)
    })

    lastNameInput.addEventListener('keyup', () => {
        evalInputKeyUp(lastNameInput, 80)
    })

    emailInput.addEventListener('keyup', () => {
        const match = /^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/
        const email = emailInput.value
        const found = email.match(match)
        if (!found) {
            submitInput.disabled = true
            submitInput.style.opacity = 0.5
            emailInput.style.borderColor = 'red'
        } else {
            emailInput.style.borderColor = ''
            submitInput.disabled = false
            submitInput.style.opacity = 1
        }
    })

    // subscribeForm.addEventListener('submit', (event) => {
    //     event.preventDefault()
    //     const redirectPage = subscribeForm.hasAttribute('data-urlLinkSuccess') ?
    //         subscribeForm.getAttribute('data-urlLinkSuccess') : '/'
    //     window.location.replace(`${redirectPage}/`)
    //     console.log(`Event submited `)
    // })

    function evalLength(text, numb) {
        return text.length <= numb
    }

    function evalInputKeyUp(input, number) {
        if (evalLength(input.value, number)) {
            submitInput.disabled = false
            submitInput.style.opacity = 1
        } else {
            submitInput.disabled = true
            submitInput.style.opacity = 0.5
        }
    }

}